<div class="row"><img src="images/cabecera.png" class="cabecera"/></div>
<md-content class="transparent" layout layout-align-gt-xs="row">
    <form ng-submit="track1Ctrl.addArticle()">
        <md-input-container flex="150">
            <label>Articulo</label>
            <md-select ng-model="track1Ctrl.product">
                <md-option ng-repeat="art in track1Ctrl.products" ng-value="art">
                    {{art.name}}
                </md-option>
            </md-select>
        </md-input-container>
        <md-input-container flex="150">
            <label>Cantidad</label>
            <md-select ng-model="track1Ctrl.quantity">
                <md-option ng-repeat="quantity in track1Ctrl.quantities" ng-value="quantity">
                    {{quantity.value}}
                </md-option>
            </md-select>
        </md-input-container>
        <md-input-container>
            <md-button type="submit" aria-label="Añadir articulo" ng-disabled="!track1Ctrl.product || !track1Ctrl.quantity" class="md-button-table">
                <md-icon md-svg-icon="add"></md-icon>
            </md-button>
        </md-input-container>
    </form>
</md-content>
<div layout="row" ng-if="track1Ctrl.articles.length > 0">
    <table class="table">
        <thead class="thead-default">
        <tr >
            <th width="40%">
                ARTICULO
            </th>
            <th width="25%">
                CANTIDAD
            </th>
            <th width="25%" class="text-right">
                PRECIO
            </th>
            <th width="10%"></th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="art in track1Ctrl.articles">
            <td>{{art.product.name}}</td>
            <td>{{art.quantity.value}}</td>
            <td class="text-right">{{art.price}}<span class="ml-5">&#8364;</span></td>
            <td class="text-right">
                <md-button aria-label="Eliminar articulo" ng-click="track1Ctrl.removeArt($index)" class="md-button-table">
                    <md-icon md-svg-icon="delete"></md-icon>
                </md-button>
            </td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
            <td colspan="2" class="text-right"><h5>Total</h5></td>
            <td colspan="2" class="text-right"><h5>{{track1Ctrl.totalPrice}}<span class="ml-5">&#8364;</span></h5></td>
        </tr>
        <tr>
            <td colspan="2" class="text-right"><h5><em>Descuentos</em></h5></td>
            <td colspan="2" class="text-right text-danger"><h5><em>- {{track1Ctrl.discount}}<span class="ml-5">&#8364;</span></em></h5></td>
        </tr>
        <tr>
            <td colspan="2" class="text-right"><h4><b>PRECIO FINAL</b></h4></td>
            <td colspan="2" class="text-right text-primary"><h4><b>{{track1Ctrl.total}}</b><span class="ml-5">&#8364;</span></h4></td>
        </tr>
        </tfoot>
    </table>
</div>
<div class="row" ng-if="track1Ctrl.articles.length > 0">
    <md-divider></md-divider>
    <md-radio-group ng-model="track1Ctrl.method">
        <div ng-repeat='type in track1Ctrl.methodTypes'>
            <div flex layout='row' layout-padding layout-align="start center" class="va-m">
                <md-radio-button flex style="max-width:50px;"
                                 aria-label="type.method"
                                 ng-value="type"
                                 ng-disabled="type.disabled"
                                 class="md-primary" >
                </md-radio-button>
                <div flex style="margin-bottom: 18px">
                    <em class="text-success">{{type.info}}</em>
                </div>


            </div>
        </div>
    </md-radio-group>
</div>
<md-divider></md-divider>
<div class="row">
    <div class="pull-left">
        <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
            <md-button class="md-warn md-raised md-hue-1" ng-click="track1Ctrl.cancel()">Cancelar</md-button>
        </section>
    </div>
    <div class="pull-right" ng-if="track1Ctrl.method && track1Ctrl.articles.length > 0">
        <section layout="row" layout-sm="column" layout-align="center center" layout-wrap>
            <md-button class="md-accent md-raised md-hue-1" ng-click="track1Ctrl.continue()">Continuar</md-button>
        </section>
    </div>
</div>



